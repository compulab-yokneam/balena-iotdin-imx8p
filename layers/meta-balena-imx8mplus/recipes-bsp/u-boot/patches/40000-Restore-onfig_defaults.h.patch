From 730363b0db49ace93a490081de689600a0192bdd Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Mon, 20 Oct 2025 23:49:48 +0300
Subject: [PATCH] Restore onfig_defaults.h

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 include/config_defaults.h | 12 ++++++++++++
 include/configs/sniper.h  |  6 ++++++
 scripts/Makefile.autoconf |  1 +
 3 files changed, 19 insertions(+)
 create mode 100644 include/config_defaults.h

diff --git a/include/config_defaults.h b/include/config_defaults.h
new file mode 100644
index 00000000000..d211a41ef29
--- /dev/null
+++ b/include/config_defaults.h
@@ -0,0 +1,12 @@
+/*
+ * config_defaults.h - sane defaults for everyone
+ *
+ * Copyright (c) 2009 Analog Devices Inc.
+ *
+ * Licensed under the GPL-2 or later.
+ */
+
+#ifndef _CONFIG_DEFAULTS_H_
+#define _CONFIG_DEFAULTS_H_
+
+#endif
diff --git a/include/configs/sniper.h b/include/configs/sniper.h
index 45a3102aeee..fefd1485658 100644
--- a/include/configs/sniper.h
+++ b/include/configs/sniper.h
@@ -82,4 +82,10 @@
  * Boot
  */
 
+/*
+ * Defaults
+ */
+
+#include <config_defaults.h>
+
 #endif
diff --git a/scripts/Makefile.autoconf b/scripts/Makefile.autoconf
index 0ade91642ae..7241c745013 100644
--- a/scripts/Makefile.autoconf
+++ b/scripts/Makefile.autoconf
@@ -113,6 +113,7 @@ vpl/include/autoconf.mk: vpl/u-boot.cfg
 define filechk_config_h
 	(echo "/* Automatically generated - do not edit */";		\
 	echo \#define CFG_BOARDDIR board/$(if $(VENDOR),$(VENDOR)/)$(BOARD);\
+	echo \#include \<config_defaults.h\>;				\
 	echo \#include \<configs/$(CONFIG_SYS_CONFIG_NAME).h\>;		\
 	echo \#include \<asm/config.h\>;				\
 	echo \#include \<linux/kconfig.h\>;				\
-- 
2.34.1

